{% extends 'layout.html' %}

{% block body %}
  <div class="main">
    <div class="transactions col-md-12">
        <h3>Transaction History</h3>
        <table class="table table-striped">
          <thead>
            <tr>
              <th class="text-center col-sm-3">Date</th>
              <th class="text-center col-sm-1">Type</th>
              <th class="text-center col-sm-3">Wallet Address</th>
              <th class="text-center col-sm-2">Amount</th>
              <th class="text-center col-sm-1">Fee</th>
              <th class="text-center col-sm-2">Confirmations</th>
            </tr>
          </thead>
          <tbody>
            {% for tx in last_tx[::-1] %}
            <tr>
              <td align="left">{{ date.strftime('%B %d %Y %I:%M%p %Z', date.localtime(tx.time)) }}</td>
              <td align="center">
                {% if tx.category == "receive" %}
                  <span class="glyphicon glyphicon-download green"></span>
                {% elif tx.category == "send" %}
                  <span class="glyphicon glyphicon-upload red"></span>
                {% else %}
                  <span class="glyphicon glyphicon-refresh blue"></span>
                {% endif %}
              </td>
              <td align="center">{{ tx.address }}</td>
              <td align="center">{{ tx.amount }}</td>
              {% if tx.fee == nil %}
                <td align="center">0.0000</td>
              {% else %}
                <td align="center">{{ tx.fee }}</td>
              {% endif %}
              <td align="center">{{ tx.confirmations }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
    </div>
  </div>
{% endblock %}
